\documentclass[10pt,a4paper]{article}
\usepackage[fontsize=9pt]{scrextend}
\usepackage[portrait,textwidth=18cm,top=1cm,bottom=2cm,includeheadfoot]{geometry}
\usepackage{amsmath,amsfonts,amssymb,mathtools,xfrac,siunitx,stmaryrd}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{float,newfloat}
\usepackage{graphicx}
\usepackage{dcolumn,tabularx,longtable,multirow,subfigure,caption}
\def\greekOptions{chapterhead=unchanged}
\usepackage[english,main=greek]{babel}
\usepackage{amsmath,amsfonts,amssymb,mathtools,xfrac,halloweenmath}
\usepackage[LGR]{fontenc}
\usepackage{fontspec}
\usepackage[normalize-symbols]{textalpha}
\usepackage{unicode-math}
\setmathfont{Concrete-Math.otf}
\setmainfont{GFS Neohellenic}
\usepackage{indentfirst}
\usepackage[x11names]{xcolor}
\usepackage[unicode,luatex,hidelinks]{hyperref}
\hypersetup{pdftitle={Microelectronics III},
			pdfsubject={Two-stage MOSFET operational amplifier},
			pdfauthor={\authorOne~[\aemOne]},
			bookmarksnumbered=true,
			bookmarksopen=true}
\usepackage[all]{hypcap}
\usepackage{tikz}
\usetikzlibrary{matrix,backgrounds}
\usepackage{steinmetz}
\usepackage{titlesec}
\usepackage{etoolbox}
\usepackage{pgfplots}
\usepackage{wrapfig}
\usepackage[language=greek,bibencoding=utf8,backend=biber]{biblatex}
\addbibresource{references.bib}
\usepackage{multicol}
\usepackage[titletoc]{appendix}
\usepackage{matlab-prettifier}

\pdfvariable minorversion=5
\pdfvariable compresslevel=9

% =====================================================================================================

\let\oldcite\cite
\renewcommand{\cite}[1]{\textcolor{darkgray}{\textsuperscript{\footnotesize\oldcite{#1}}}}
\newfontfamily\chfnt{GFS Didot}
\DeclareFloatingEnvironment[name={Κύκλωμα}]{circuitfig}
\DeclareFloatingEnvironment[name={Διάγραμμα}]{plotenv}
\newcommand{\dd}[1]{\,\mathrm{d}{#1}}
\newcommand{\GB}{\mathrm{GB}}
\newcommand{\SR}{\mathrm{SR}}
\renewcommand{\(}{\left(}
\renewcommand{\)}{\right)}
\newcommand{\lb}{\llbracket}
\newcommand{\rb}{\rrbracket}
\newcommand{\kohm}{\unit{\kilo\ohm}}
\newcolumntype{d}[1]{D{.}{.}{#1}}
\setlength{\headheight}{14.5pt}
\renewcommand{\headrulewidth}{0.1pt}
\renewcommand{\footrulewidth}{0.1pt}
\captionsetup{font=small,labelfont=bf}\numberwithin{equation}{section}
\numberwithin{equation}{subsection}

\patchcmd\subequations
 {\theparentequation\alph{equation}}
 {\subequationsformat}
 {}{}

\newcommand{\subequationsformat}{\theparentequation.\roman{equation}}

%--- chapter, sections...

\renewcommand{\thesection}{${\text{\chfnt\Roman{section}}}$}
\renewcommand{\thesubsection}{${\text{\chfnt\Roman{section}}}$.\arabic{subsection}}

\titleformat{\section}
	{\vspace*{0.7em}\color{DodgerBlue3}\normalfont\chfnt\Large\bfseries}{\thesection$\;$}{0.5em}{}

\titleformat{\subsection}
	{\color{DodgerBlue4}\normalfont\chfnt\large\bfseries}{\thesubsection}{0.5em}{}

%--- chapter heading

\fancypagestyle{fancy}{
	\fancyhf{}
	\fancyfoot[LE,RO]{\thepage}
	\fancyfoot[RE,LO]{\reporttitle}
    \renewcommand{\footrule}{\hbox to \headwidth{\color{gray}\leaders\hrule height \footrulewidth\hfill}}
	\renewcommand{\footrulewidth}{0.2pt}
}

\fancypagestyle{plain}{
	\fancyhf{}
	\fancyfoot[LE,RO]{\thepage}
    \renewcommand{\footrule}{\hbox to \headwidth{\color{gray}\leaders\hrule height \footrulewidth\hfill}}
	\renewcommand{\footrulewidth}{0.2pt}
}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}

\addto\captionsgreek{\renewcommand{\chaptername}{Άσκηση}}

\renewcommand{\arraystretch}{1.4}